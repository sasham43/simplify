/*! simplify 2016-07-18 */
angular.module("simplifyApp",["ngRoute"]),angular.module("simplifyApp").config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/views/splash.html",controller:"SplashController",controllerAs:"sc"}).when("/about",{templateUrl:"/views/about.html",controller:"AboutController",controllerAs:"ac"}).when("/login",{templateUrl:"/views/login.html",controller:"LoginController",controllerAs:"lc"}).when("/home",{templateUrl:"/views/home.html",controller:"HomeController",controllerAs:"hc"}).when("/album",{templateUrl:"/views/album.html",controller:"ExamineController",controllerAs:"ec"}),b.html5Mode(!0)}]),angular.module("simplifyApp").controller("SplashController",["$http",function(a){console.log("Splash controller loaded.")}]),angular.module("simplifyApp").controller("HomeController",["UserTrackFactory","AlbumFactory",function(a,b){var c=this;console.log("albums here?",c.albums),c.user={},c.albums=b.albums,a.getUserInfo().then(function(a){c.user=a.data,console.log("User info:",c.user)}),c.spinning=!0,c.albums.length<=0&&b.getAlbums(),c.showAlbumOverlay=function(a){a.show=!0},c.hideAlbumOverlay=function(a){a.show=!1},c.examineAlbum=function(a){b.examineAlbum(a)},console.log("home controller loaded.",c.albums)}]),angular.module("simplifyApp").controller("ExamineController",["AlbumFactory",function(a){var b=this;b.currentAlbum=a.currentAlbum.album.album,b.trackStyles={height:600/b.currentAlbum.tracks.items.length+"px"},b.showAlbumOverlay=function(){b.showOverlay=!0},b.hideAlbumOverlay=function(){b.showOverlay=!1},b.analyzeTrack=function(b){a.analyzeTrack(b)},b.analyzeAlbum=function(b){a.analyzeAlbum(b)},console.log("examine controller loaded.")}]),angular.module("simplifyApp").factory("AlbumFactory",["$http","$location",function(a,b){var c=[],d={album:{}},e={features:{}},f={},g=function(){a.get("/spotify/albums").then(function(a){console.log("Album response:",a.data),angular.copy(a.data.albums,c)})},h=function(a){b.url("/album"),d.album=a},i=function(b){a.get("/spotify/track-features/"+b.id).then(function(a){console.log("track feature response:",a.data),e.features=a.data})},j=function(b){a.post("/spotify/album-features",b).then(function(a){console.log("album features response:",a.data),f.features=a.data})};return{currentAlbum:d,examineAlbum:h,getAlbums:g,albums:c,analyzeTrack:i,features:e,analyzeAlbum:j,albumFeatures:f}}]),angular.module("simplifyApp").factory("UserTrackFactory",["$http",function(a){var b={},c=function(){return a.get("/authorize/info")};return{user:b,getUserInfo:c}}]);